<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>07_HTML요소 선택하기.html</title>
  <link rel="stylesheet" href="./sheets/css07.css">
</head>
<body>
  
  <h3># Document Object Model (DOM)</h3>

  <ul>
    <li>웹 브라우저가 HTML코드를 통해
        해당 웹 페이지의 구조를 해석하여 생성해둔 객체</li>
    <li>자바스크립트의 document 객체를 통해 해당 HTML요소에 접근할 수 있다</li>
  </ul>

  <h3># 원하는 HTML 요소를 선택하기 위한 메서드들</h3>

  <ul>
    <li>document.getElementById(id): id로 HTML요소를 선택한다 (겹치는 아이디가 있어도 하나만 가져옴)</li>
    <li>document.getElementsByTagName(tagName): 해당 태그 이름을 가진 모든 HTML요소들을 선택한다 (여러개 리턴)</li>
    <li>document.getElementsByClassName(className): 해당 클래스 이름을 가진 모든 HTML요소들을 선택한다 (여러개 리턴)</li>
    <li>document.querySelector(cssSelector): CSS 선택자를 사용해 원하는 요소를 하나만 선택한다</li>
    <li>document.querySelectorAll(cssSelector): CSS 선택자를 이용해 원하는 요소들을 여러개 선택한다</li>
  </ul>

  <h3># 선택한 HTML요소를 변경하기</h3>

  <ul>
    <li>element.innerHTML: 해당 요소의 내용을 변경한다 (태그 적용)</li>
    <li>element.innerText: 해당 요소의 내용을 변경한다 (태그 미적용)</li>
    <li>element.style: 스타일 속성을 변경한다</li>
    <li>element.className: 클래스 속성을 변경한다</li>
    <li>element.속성이름: 원하는 HTML속성을 변경한다</li>
    <li>element.classList: 클래스 속성을 쉽게 변경할 수 있는 컬렉션을 사용한다</li>
  </ul>

  <h3># 선택한 HTML 요소로 활용할 수 있는 메서드</h3>

  <ul>
    <li>element.click() : 클릭한 효과를 낼 수 있다</li>
    <li>element.focus() : 해당 요소로 포커스를 이동한다</li>
    <li>element.blur() : 해당 요소에서 포커스를 제외한다</li>
    <li>element.getAttribute(name) : 해당 요소의 속성 값을 리턴한다</li>
    <li>element.setAttribute(name, value) : 해당 요소의 속성 값을 설정한다</li>
    <li>element.removeAttribute(name) : 해당 요소의 해당 속성을 삭제한다</li>
    <li>element.addEventListener(event, callback) : 해당 요소에 원하는 이벤트를 설정한다</li>
  </ul>

  <img id="penguin_image">

  <div id="menu_wrap">
    <div></div>
    <div></div>
    <div></div>
    <div>이탈리안 BLT</div>
    <div class="important bg-yellow">부대찌개</div>
  </div>

  <hr>

  <h3>구구단</h3>

  <div id="gugudan"></div>
  <div style="width: 200px; display: flex; justify-content: space-evenly;"> 
    <div id="minus" style="border: 1px solid black; background-color: rgb(169, 208, 252); padding: 2px 10px; font-size: large;">-</div>
    <div id="plus" style="border: 1px solid black; background-color: rgb(252, 202, 128); padding: 2px 10px; font-size: large;">+</div>
  </div>

  <div id="gugudan2">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>

  <!-- 자바스크립트만 사용하여 gugudan 내부에 2 ~ 9 단의 구구단을 채워보기 -->

  <script>
    const gugudan = document.getElementById('gugudan');
    let i = 2;
    gugudan.style.width = '200px'
    gugudan.style.textAlign = 'center';
    gugudan.style.backgroundColor = 'darkblue';
    gugudan.style.color = 'white';
    gugudan.style.marginBottom = '3px';
    
    for (let j = 1; j < 10; j++) {
      gugudan.innerHTML += '<div>' + i + ' * ' + j + ' = ' + i * j + '</div>';
    }
    
    function plusL() {
      if (i < 9) {
        i++;
        gugudan.innerHTML = '';
        for (let j = 1; j < 10; j++) {
          gugudan.innerHTML += '<div>' + i + ' * ' + j + ' = ' + i * j + '</div>';
        }
      } else {
        console.log('9단까지 밖에 못해요~');
        return;
      }
    }

    function minusL() {
      if (i > 2) {
        i--;
        gugudan.innerHTML = '';
        for (let j = 1; j < 10; j++) {
          gugudan.innerHTML += '<div>' + i + ' * ' + j + ' = ' + i * j + '</div>';
        }
      } else {
        console.log('2단이 최소입니다~');
        return;
      }
    }

    const plus = document.getElementById('plus');
    plus.addEventListener('click', plusL);

    const minus = document.getElementById('minus');
    minus.addEventListener('click', minusL);

    // 원하는 HTML요소를 선택해서 가져온 후에는 모든 속성을 자바스크립트로 수정할 수 있다
    const penguin_image = document.getElementById('penguin_image');

    console.dir(penguin_image);

    // 해당 인스턴스의 필드에 직접 접근하는 방식
    penguin_image.src = '../css/images/토마토.jpg';
    penguin_image.alt = '토마토';
    penguin_image.width = '150';

    console.log('src:', penguin_image.src)

    // 해당 인스턴스의 필드를 메서드로 다루는 방식
    console.log('get attr:', penguin_image.getAttribute('src'));
    penguin_image.setAttribute('src', '../css/images/와사비.jpg');
    penguin_image.removeAttribute('width');
    penguin_image.style.width = '200px'

    function clickAppleEvent() {
      console.log('토끼예요');
    };

    penguin_image.addEventListener('click', clickAppleEvent);

    let count = 1;
    penguin_image.onclick = function () {
      console.log("아니아니 나는 토마토야" + count++);
    };

    const menu_wrap = document.getElementById('menu_wrap');
    const menus = document.querySelectorAll('#menu_wrap > div');

    console.log(menu_wrap);
    console.dir(menu_wrap);
    console.log(typeof menu_wrap);

    console.log(menus);
    console.dir(menus);

    menus[0].innerHTML = '<b>하이</b>'; // 태그 적용됨 (보안 취약)
    menus[1].innerText = '<b>나야</b>'; // 태그가 적용되지 않음 (안전)

    // 자바스크립트로 선택한 요소의 스타일을 변경할 수 있다
    // -가 있는 속성은 camelCase로 치환해주면 된다
    menus[2].innerText = '오늘의 메뉴';
    menus[2].style.color = 'white';
    menus[2].style.backgroundColor = 'peru';
    menus[2].style.border = '3px solid black';
    menus[2].style.padding = '10px';
    menus[2].style.fontSize = '30px';

    // 나중에 원하는 클래스 값을 붙여서 스타일시트의 효과를 받게 만들 수 있다
    menus[3].className = 'important';

    // classList를 사용하면 클래스를 좀 더 쉽게 설정할 수 있다
    console.log(menus[4].classList); 

    // classList.remove(string, ...) : 지우고 싶은 클래스들을 지워준다
    menus[4].classList.remove('important', 'bg-yellow');

    // classList.add(string, ...) : 추가하고 싶은 클래스들을 추가해준다
    menus[4].classList.add('bg-blue', 'fa-beat');

    // classList.toggle(string) : 있으면 없애고, 없으면 추가한다
    menus[4].classList.toggle('on');

    // 선생님 ver 구구단
    const gugudanDivs = document.querySelectorAll('#gugudan2 > div');

    for (let i = 0; i < gugudanDivs.length; i++) {
      const guguDiv = gugudanDivs[i];
      
      let dan = i + 2;

      for (let gop = 1; gop <= 9; gop++) {
        // guguDiv.innerHTML += dan + 'x' + gop + '=' + dan * gop + '<br>';

        // 자바스크립트의 format string
        guguDiv.innerHTML += `${dan} x ${gop} = ${dan * gop}<br>`;
      }
    }
    
  </script>
</body>
</html>