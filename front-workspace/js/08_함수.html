<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>08_함수.html</title>
</head>
<body>
  
  <h3># 자바스크립트에서 함수 사용하기</h3>

  <ul>
    <li>function 키워드를 사용해 함수를 선언할 수 있다</li>
    <li>선언한 함수를 ()를 붙이지 않고 활용할 수도 있다</li>
    <li>
      함수 이름 뒤에 ()를 붙여 호출하면 해당 함수의 실행 결과를 리턴하고
      ()를 붙이지 않고 사용하면 함수 자체를 전달하는 것이 된다
    </li>
    <li>리턴 타입을 적지 않아도 값을 리턴할 수 있다</li>
    <li>자바스크립트는 변수에 함수를 저장할 수 있다</li>
  </ul>

  <h3># 자바스크립트 함수의 종류</h3>

  <ul>
    <li>function으로 선언해 사용하는 함수</li>
    <li>함수 표현식: 변수에 함수를 담아서 사용하는 함수</li>
    <li>화살표 함수: 함수 표현식의 function을 생략하고 사용할 수 있는 함수</li>
  </ul>

  <script>
    function abc(a, b) {
      return a + b;
    }

    function 전달받은함수를실행하는함수(a) {
      console.log(a(2,3));
    }

    전달받은함수를실행하는함수(abc);
    
    // 함수를 실행하여 결과를 얻어낼수도 있고, 함수 자체를 전달할 수도 있다
    console.log(abc(10, 11));
    console.log(abc);

    // 선언한 함수를 변수에 저장할 수도 있다
    // 선언할 때 사용한 이름은 어차피 사용하지 못하기 때문에 적지 않아도 된다 (익명)
    // => 변수로 함수로 선언해서 사용하는 것을 함수 표현식이라고 한다
    const f = function () {
      console.log('나는 abc2이다');
    };

    // 함수를 다른 변수에 전달해줄수도 있다
    const g = f;

    f();
    g();

    // confirmm();
    cancel();
    // question(); // 실행안됨 (함수 표현식)

    // 함수 선언은 코드의 진행보다 먼저 실행되기 때문에 위치는 상관없다
    // 호이스팅, Hoisting, 평범한 코드보다 먼저 진행되는 코드가 있는 현상
    function comfirmm() {
      console.log('확인');
    }

    function cancel() {
      console.log('취소');
    }

    // 함수 표현식은 순서를 거스를 수 없다 (변수 선언이기 때문)
    // 변수 선언 자체는 호이스팅되지만 대입은 호이스팅되지 않는다
    const question = function () {
      console.log('정말로?');
    };

    // 화살표 함수
    const kick = () => {
      console.log('강퇴');
    };

    // 한 줄 짜리 함수는 {} 생략이 가능하다
    // 매개 변수도 하나라면 () 생략이 가능하다
    const ban = (name, period) => console.log(`'${name}' ${period}일 동안 차단`);

    const sub = (name, period) => console.log(`'${name}' ${period}일 동안 구독`);

    kick();
    ban('강강술래', 3);

    const userManagement = (name, period, action) => action(name, period);

    userManagement('어묵', 2, sub);

    // 함수와 오브젝트 함께 사용하기
    // 오브젝트 내부에 함수를 정의할 때 화살표 함수를 사용하면 this가 적용이 안된다
    const car = {
      name: '레이',
      cost: 14000000,
      efficiency: 12.9,
      displacement: 998,
      move: function () {
        console.log(`연비 ${this.efficiency}km의 ${this.name}가 빵빵`);
      },
      move2: () => {
        console.log(`연비 ${this.efficiency}km의 ${this.name}가 빵빵`);
      }
    };

    car.move();
    car.move2();

    // 다음 함수를 화살표 함수로 변경하기
    function ask(work, yes, no) {
      // window.confirm() : 확인 창 띄우는 메서드
      if (window.confirm(work)) {
        yes();
      } else {
        no();
      }
    }

    // ask('시험지 제출하겠음?', 
    //   function () {alert('제출되다');},
    //   function () {alert('취소를 누르다');}
    // );

    const aa = (work, yes, no) => window.confirm(work) ? yes() : no();

    // aa('시험지 제출?',
    //   () => alert('제출되다'),
    //   () => alert('취소를 누르다')
    // );

    /*
	 	# 다음 함수를 정의하고 올바르게 동작하는 테스트 해보세요
	 	
	 	1. 전달한 문자가 알파벳이면 true 아니면 false
	 	2. 전달한 숫자가 3의 배수이면 true 아니면 false
	 	3. 숫자를 하나 전달하고 짝수면 "짝수입니다" 홀수면 "홀수입니다"
	 	4. 숫자를 전달하면 해당 숫자의 모든 약수를 int[] 로 반환
	 	5. 전달한 정수가 소수면 true 아니면 false
	 	6. 메세지와 횟수를 전달하면 해당 메세지를 횟수만큼 반복
	 */

  const alphabet = (a) => console.log(typeof a === 'string' ? 'true' : 'false');

  const sam = (a) => console.log(a % 3 == 0 ? 'true' : 'false');

  const jjak = (a) => console.log(a % 2 == 0 ? '짝수입니다' : '홀수입니다');

  const yaksu = (a) => {
    let cnt = 0;
    if (a != 0) {
      var arr = new Array();

      let index = 0;
      for (let i = 1; i <= a; i++) {
        if (a % i == 0) {
          arr[index] = i;
          index++;
        }
      }

      console.log(arr);
      return;
    }
    console.log('없음');
  };

  const prime = (a) => {
    for (let i = 2; i <= Math.sqrt(a); i++) {
      if (a % i == 0) {
        console.log('false');
        return;
      }
    }
    console.log('true');
  };

  const me = (st, num) => {
    for (let i = 0; i < num; i++) {
      console.log(st);
    }
  }

  // 선생님꺼
  // 함수가 한줄이어서 {}를 생략할 때 리턴도 생략이 가능하다
  const isAlphabet = ch => ch >= 'a' && ch <= 'z' || ch >= 'A' && ch <= 'Z';
  console.log('K :', isAlphabet('K'));

  const isMul3 = num => num % 3 == 0;
  console.log('12:', isMul3(12));

  const evenOrOdd = num => num % 2 == 0 ? '짝수이다' : '홀수이다';
  console.log('22:', evenOrOdd(22));

  const isDivisor = (num, d) => num % d == 0;
  const getAllDivisors = num => {
    const arr = [];
    let count = 0;
    for (let i = 1; i <= num; i++) {
      if (isDivisor(num, i)) {
        arr[count++] = i;
      }
    }
    return arr;
  };

  console.log(getAllDivisors(90));

  const isPrime = num => getAllDivisors(num).length == 2;

  const repeatMessage = (message, repeat) => {
    for (let i = 0; i < repeat; i++) {
      console.log(message);
    }
  }

  repeatMessage('안녕안녕안녕안녀앙ㅇ녕안녕아나연ㅇ안ㅇ연안녕앙년앙녕ㅇ안여', 10);
</script>
</body>
</html>